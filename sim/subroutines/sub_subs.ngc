

(Call sub "probe_z_minus_sub" to Probe top of Workpiece)
o<probe_z_minus_sub> call [#1][#2][#5][#8][#9]

(Call sub "probe_x_plus_sub" to Probe x+ side of Workpiece)
o<probe_x_plus_sub> call [#1][#3][#4][#8][#9][#10]

(Call sub "probe_x_minus_sub" to Probe x- side of Workpiece)
o<probe_x_minus_sub> call [#1][#3][#4][#8][#9][#10]

(Call sub "probe_y_plus_sub" to Probe y+ side of Workpiece)
o<probe_y_plus_sub> call [#1][#3][#4][#8][#9][#10]

(Call sub "probe_y_minus_sub" to Probe y- side of Workpiece)
o<probe_y_minus_sub> call [#1][#3][#4][#8][#9][#10]

#<workspace_x> = #[5201 + [20 * #5220]]
#<workspace_y> = #[5202 + [20 * #5220]]
#<workspace_z> = #[5203 + [20 * #5220]]

(Record XYZ zero in selected WCO)
G10 L2 P#5220 X[#<_x> + #<workspace_x>]
G10 L2 P#5220 Y[#<_y> + #<workspace_y>]
G10 L2 P#5220 Z[#<_z> + #<workspace_z> + #<z_clearance>]

#<x_plus_probed> = #5061

#<x_minus_probed> = #5061

(probe mode rule for WCO or probe position measuring only)
o<140> if [#<probe_mode> EQ 0]
  (Record X Zero in selected WCO)
  G10 L2 P#5220 X[#5061 + #<workspace_x> - #<probe_center_offset>]
  o<probe_x_minus_wco> return
o<140> endif

#<probe_mode> = #15          (=0)

(Probe Completion Move to Z Clearance Plane, and X Zero, Y Zero)
G90
G0 Z[#<z_minus_probed> + #<z_clearance>]
G0 X[#<x_plus_probed> + #<probe_center_offset>] Y[#<y_plus_probed> + #<probe_center_offset>]
